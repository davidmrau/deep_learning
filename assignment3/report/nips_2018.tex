\documentclass{article}

% if you need to pass options to natbib, use, e.g.:
% \PassOptionsToPackage{numbers, compress}{natbib}
% before loading nips_2018

% ready for submission
% \usepackage{nips_2018}

% to compile a preprint version, e.g., for submission to arXiv, add
% add the [preprint] option:
% \usepackage[preprint]{nips_2018}

% to compile a camera-ready version, add the [final] option, e.g.:
\usepackage[final]{nips_2018}

% to avoid loading the natbib package, add option nonatbib:
% \usepackage[nonatbib]{nips_2018}

\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{graphicx}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{bbm}
\title{Deep Learning 2018 - Assignment 3 Deep Generative Models}

% The \author macro works with any number of authors. There are two
% commands used to separate the names and addresses of multiple
% authors: \And and \AND.
%
% Using \And between authors leaves it to LaTeX to determine where to
% break the lines. Using \AND forces a line break at that point. So,
% if LaTeX puts 3 of 4 authors names on the first line, and the last
% on the second line, try using \AND instead of \And before the third
% author name.

\author{
  David Rau (11725184) \\ 
  University of Amsterdam \\
  \texttt{david.rau@student.uva.nl} \\
  %% examples of more authors
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \AND
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
  %% \And
  %% Coauthor \\
  %% Affiliation \\
  %% Address \\
  %% \texttt{email} \\
}

\begin{document}
% \nipsfinalcopy is no longer used

\maketitle


\section*{Variational Auto Encoders}
\subsection*{Specifying the encoder $q_\phi(z_n|x_n)$}
\subsubsection*{Question 1.10}
\begin{equation}
\begin{aligned}
	\mathcal{L} & = \sum_{n=1}^N \mathcal{L}_n^{recon} + \mathcal{L}_n^{reg} \\
	& =  \log q_{\phi}(z_n|x_n) +  \\
	& = \sum_{n=1}^N  - \mathcal{N}(z_n|\mu_{\phi}(x_n), diag(\Sigma_{\phi}(x_n))) +\frac{1}{2} \sum_{j=1}^J \big( 1 + \log ( (\sigma_j^{(n)})^2) - (\mu_j^{(n)})^2 - (\sigma_j^{(n)})^2 \big)
\\
	& = - \sum_{n=1}^N x_n \log z_n + (1-x_n) \cdot \log (1 -z_n) +\frac{1}{2} \sum_{j=1}^J \big( 1 + \log ( (\sigma_j^{(n)})^2) - (\mu_j^{(n)})^2 - (\sigma_j^{(n)})^2 \big)
\end{aligned}
\end{equation}
 
\end{document}
